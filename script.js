const themeToggle=document.getElementById('themeToggle'),body=document.body,savedTheme=localStorage.getItem('theme')||'light';body.setAttribute('data-theme',savedTheme);themeToggle.addEventListener('click',()=>{const ct=body.getAttribute('data-theme'),nt=ct==='dark'?'light':'dark';body.setAttribute('data-theme',nt);localStorage.setItem('theme',nt)});const hamburger=document.getElementById('hamburger'),navLinks=document.getElementById('navLinks');if(hamburger){hamburger.addEventListener('click',()=>navLinks.classList.toggle('active'))}document.querySelectorAll('.nav-link').forEach(l=>{l.addEventListener('click',()=>navLinks.classList.remove('active'))});const worldCities=[{name:'New York',timezone:'America/New_York'},{name:'London',timezone:'Europe/London'},{name:'Paris',timezone:'Europe/Paris'},{name:'Tokyo',timezone:'Asia/Tokyo'},{name:'Sydney',timezone:'Australia/Sydney'},{name:'Dubai',timezone:'Asia/Dubai'},{name:'Mumbai',timezone:'Asia/Kolkata'},{name:'Singapore',timezone:'Asia/Singapore'},{name:'Los Angeles',timezone:'America/Los_Angeles'},{name:'Berlin',timezone:'Europe/Berlin'},{name:'Moscow',timezone:'Europe/Moscow'},{name:'Beijing',timezone:'Asia/Shanghai'}];function updateWorldClocks(){const c=document.getElementById('clocksContainer');if(!c)return;c.innerHTML='';worldCities.forEach(city=>{const now=new Date(),timeStr=now.toLocaleTimeString('en-US',{timeZone:city.timezone,hour12:true,hour:'2-digit',minute:'2-digit',second:'2-digit'}),dateStr=now.toLocaleDateString('en-US',{timeZone:city.timezone,weekday:'short',month:'short',day:'numeric'});c.innerHTML+=`<div class="clock-card"><h3>${city.name}</h3><div class="clock-time">${timeStr}</div><div class="clock-date">${dateStr}</div></div>`})}if(document.getElementById('clocksContainer')){updateWorldClocks();setInterval(updateWorldClocks,1000)}let stopwatchInterval=null,stopwatchTime=0,stopwatchRunning=false,lapCounter=0;function formatTime(ms){const ts=Math.floor(ms/1000),h=Math.floor(ts/3600),m=Math.floor((ts%3600)/60),s=ts%60,cs=Math.floor((ms%1000)/10);return`${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}.${String(cs).padStart(2,'0')}`}const stopwatchStart=document.getElementById('stopwatchStart'),stopwatchLap=document.getElementById('stopwatchLap'),stopwatchReset=document.getElementById('stopwatchReset'),stopwatchDisplay=document.getElementById('stopwatchDisplay'),lapsContainer=document.getElementById('lapsContainer');if(stopwatchStart){stopwatchStart.addEventListener('click',()=>{if(!stopwatchRunning){stopwatchRunning=true;const st=Date.now()-stopwatchTime;stopwatchInterval=setInterval(()=>{stopwatchTime=Date.now()-st;stopwatchDisplay.textContent=formatTime(stopwatchTime)},10);stopwatchStart.textContent='Stop'}else{stopwatchRunning=false;clearInterval(stopwatchInterval);stopwatchStart.textContent='Start'}})}if(stopwatchLap){stopwatchLap.addEventListener('click',()=>{if(stopwatchRunning){lapCounter++;const li=document.createElement('div');li.className='lap-item';li.innerHTML=`<span>Lap ${lapCounter}</span><span>${formatTime(stopwatchTime)}</span>`;lapsContainer.prepend(li)}})}if(stopwatchReset){stopwatchReset.addEventListener('click',()=>{stopwatchRunning=false;clearInterval(stopwatchInterval);stopwatchTime=0;lapCounter=0;stopwatchDisplay.textContent='00:00:00.00';lapsContainer.innerHTML='';stopwatchStart.textContent='Start'})}let timerInterval=null,timerRemaining=0,timerRunning=false,audioContext=null;const timerStart=document.getElementById('timerStart'),timerReset=document.getElementById('timerReset'),timerDisplay=document.getElementById('timerDisplay'),timerHours=document.getElementById('timerHours'),timerMinutes=document.getElementById('timerMinutes'),timerSeconds=document.getElementById('timerSeconds');function updateTimerDisplay(){if(!timerHours||!timerMinutes||!timerSeconds||!timerDisplay)return;const h=parseInt(timerHours.value)||0,m=parseInt(timerMinutes.value)||0,s=parseInt(timerSeconds.value)||0,tms=(h*3600+m*60+s)*1000,hrs=Math.floor(tms/3600000),mins=Math.floor((tms%3600000)/60000),secs=Math.floor((tms%60000)/1000);timerDisplay.textContent=`${String(hrs).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`}if(timerHours)timerHours.addEventListener('input',updateTimerDisplay);if(timerMinutes)timerMinutes.addEventListener('input',updateTimerDisplay);if(timerSeconds)timerSeconds.addEventListener('input',updateTimerDisplay);if(timerStart){timerStart.addEventListener('click',()=>{if(!timerRunning){if(timerRemaining===0){const h=parseInt(timerHours.value)||0,m=parseInt(timerMinutes.value)||0,s=parseInt(timerSeconds.value)||0;timerRemaining=(h*3600+m*60+s)*1000;if(timerRemaining<=0){alert('Set time!');return}}timerRunning=true;const st=Date.now(),et=st+timerRemaining;timerInterval=setInterval(()=>{timerRemaining=et-Date.now();if(timerRemaining<=0){timerRemaining=0;clearInterval(timerInterval);timerRunning=false;timerDisplay.textContent='00:00:00';timerStart.textContent='Start';playTimerSound()}else{const hrs=Math.floor(timerRemaining/3600000),mins=Math.floor((timerRemaining%3600000)/60000),secs=Math.floor((timerRemaining%60000)/1000);timerDisplay.textContent=`${String(hrs).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`}},100);timerStart.textContent='Pause'}else{timerRunning=false;clearInterval(timerInterval);timerStart.textContent='Resume'}})}if(timerReset){timerReset.addEventListener('click',()=>{timerRunning=false;clearInterval(timerInterval);timerRemaining=0;updateTimerDisplay();timerStart.textContent='Start'})}function playTimerSound(){if(!audioContext)audioContext=new(window.AudioContext||window.webkitAudioContext)();const osc=audioContext.createOscillator(),gain=audioContext.createGain();osc.connect(gain);gain.connect(audioContext.destination);osc.frequency.value=880;osc.type='square';gain.gain.setValueAtTime(0.3,audioContext.currentTime);gain.gain.exponentialRampToValueAtTime(0.01,audioContext.currentTime+0.3);osc.start(audioContext.currentTime);osc.stop(audioContext.currentTime+0.3)}const contactForm=document.getElementById('contactForm');if(contactForm){contactForm.addEventListener('submit',(e)=>{e.preventDefault();alert('Thank you!');contactForm.reset()})}if(timerDisplay){updateTimerDisplay()}


const stopwatch = document.getElementById("stopwatch");

document.getElementById("stopwatchFullscreen").addEventListener("click", () => {
    if (!document.fullscreenElement) {
        stopwatch.requestFullscreen();
        stopwatch.classList.add("fullscreen-mode");
    } else {
        document.exitFullscreen();
        stopwatch.classList.remove("fullscreen-mode");
    }
});
